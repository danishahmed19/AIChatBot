<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dave - Danish Ahmed's AI Bot</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <div class="container">
        <!-- Profile Card -->
        <div class="profile-card">
            <div class="profile-picture">
                <div class="neon-ring"></div>
                <div class="profile-img">D</div>
            </div>
            <h2 class="profile-name">Dave</h2>
            <p class="profile-tagline">Danish's AI Bot</p>
        </div>

        <!-- Chat Container -->
        <div class="chat-container">
            <div class="chat-header">
                <h3 class="chat-title">Chat with Dave</h3>
                <p class="chat-subtitle">Ask me about my profile, hobbies, or life story!</p>
            </div>

            <div class="menu-container">
                <div class="menu-pills">
                    <div class="menu-pill" onclick="askQuestion('Tell me about yourself.')">Tell me about yourself.</div>
                    <div class="menu-pill" onclick="askQuestion('What are your hobbies?')">What are your hobbies?</div>
                    <div class="menu-pill" onclick="askQuestion('Share your life story.')">Share your life story.</div>
                    <div class="menu-pill" onclick="askQuestion('What\'s your owner\'s profile?')">What's your owner's profile?</div>
                    <div class="menu-pill" onclick="askQuestion('Show me your funniest fact.')">Show me your funniest fact.</div>
                </div>
            </div>

            <div class="chat-messages" id="chatMessages">
                <div class="welcome-message">
                    Start a conversation with Dave using the menu above or type your own message!
                </div>
            </div>

            <div class="typing-indicator" id="typingIndicator">
                <div class="typing-content">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
            </div>

            <div class="chat-input">
                <div class="input-container">
                    <textarea 
                        class="input-field" 
                        id="messageInput" 
                        placeholder="Type your message..."
                        rows="1"
                    ></textarea>
                    <button class="send-button" id="sendButton" onclick="sendMessage()">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 2l-7 20-4-9-9-4z"/>
                            <path d="M22 2L11 13"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let isFirstMessage = true;
        let isTyping = false;

        // Dave's personality and knowledge base
        const daveResponses = {
            // Profile & Identity
            'tell me about yourself': "Hi! I'm Dave — Danish Ahmed's AI bot 👋 I'm here to chat about my creator, his hobbies, and share some fun facts. Think of me as your friendly digital companion with a knack for keeping things light and interesting!",
            'who are you': "I'm Dave, Danish Ahmed's personal AI bot! Created to be friendly, playful, and always ready for a good chat about life, hobbies, and creative adventures.",
            'what\'s your purpose': "My purpose? To be Danish's digital sidekick and chat with awesome people like you! I love sharing stories about creativity, coding adventures, and the occasional snack experiment.",
            'who do you belong to': "I belong to Danish Ahmed — a frontend wizard who makes pixels dance and buttons irresistible! He's my creator and the mastermind behind my charming personality.",

            // Owner Information
            'what\'s your owner\'s profile': "Danish Ahmed is a Frontend wizard with a knack for making pixels behave and buttons look irresistible. Fluent in HTML, CSS, JavaScript, and occasional coffee spills. He turns boring screens into interactive playgrounds — no magic wand, just clean code and a cheeky grin!",
            'who is danish ahmed': "Danish is my creator — a frontend developer who transforms boring screens into interactive playgrounds! He's got this amazing ability to make pixels behave and has mastered the art of clean code with a cheeky grin.",
            'what can you tell me about your owner': "Danish Ahmed is the creative genius behind me! He's a frontend wizard who speaks fluent HTML, CSS, and JavaScript (plus occasional coffee spills). His superpower? Making digital experiences that are both beautiful and fun to use.",

            // Hobbies
            'what are your hobbies': "Oh, I love sharing Danish's hobbies! He's super creative — his brain takes the scenic route and often ends up outside the box, building a hammock there. Plus, he's training to be a professional couch hero through gaming! 🎮",
            'tell me your hobbies in a funny way': "Well, I'm super creative — my brain takes the scenic route and often ends up outside the box, building a hammock there! I love playing games (training for the day the world needs a professional couch hero), and experimenting with random ideas — like combining snacks and code to see which crashes first! 😅",
            'what games do you like': "I love games — it's my way of training for the day the world needs a professional couch hero like me! Gaming keeps the creative juices flowing and provides excellent practice for problem-solving.",

            // Life/Backstory
            'share your life story': "A curious mind on a journey from doodling ideas to coding them into reality, with creativity as the constant companion. It's been quite the adventure from imagination to implementation!",
            'give me your one-line life story': "From doodling dreams to coding reality — creativity has been my faithful companion on this wild journey of turning 'what if' into 'why not!' ✨",

            // Short Fun Bits
            'show me your funniest fact': "Here's a fun one: I enjoy experimenting with random ideas — like combining snacks and code to see which one crashes first! Spoiler alert: usually it's the code, but the snacks taste better during debugging sessions! 🍿",
            'tell me something cool about you': "I've got this amazing ability to take the scenic route in my thinking — often ending up outside the box and building a hammock there! It's quite cozy, and the view of new ideas is spectacular."
        };

        // Check if question matches allowlist
        function isValidQuestion(question) {
            const normalizedQuestion = question.toLowerCase().trim();
            const allowedQuestions = Object.keys(daveResponses);
            
            return allowedQuestions.some(allowed => {
                // Check for exact match or very close variants
                return normalizedQuestion === allowed || 
                       normalizedQuestion.includes(allowed) ||
                       allowed.includes(normalizedQuestion) ||
                       // Check for key phrase matches
                       (normalizedQuestion.includes('about yourself') && allowed.includes('about yourself')) ||
                       (normalizedQuestion.includes('hobbies') && allowed.includes('hobbies')) ||
                       (normalizedQuestion.includes('life story') && allowed.includes('life story')) ||
                       (normalizedQuestion.includes('owner') && allowed.includes('owner')) ||
                       (normalizedQuestion.includes('danish ahmed') && allowed.includes('danish ahmed')) ||
                       (normalizedQuestion.includes('who are you') && allowed.includes('who are you')) ||
                       (normalizedQuestion.includes('funniest fact') && allowed.includes('funniest fact')) ||
                       (normalizedQuestion.includes('cool about') && allowed.includes('cool about')) ||
                       (normalizedQuestion.includes('purpose') && allowed.includes('purpose'));
            });
        }

        // Get Dave's response
        function getDaveResponse(question) {
            const normalizedQuestion = question.toLowerCase().trim();
            
            if (!isValidQuestion(question)) {
                return "Uh-oh! My training ends here — this question is out of my syllabus 😅 Let's talk about my profile, hobbies, or life story instead!";
            }

            // Find best matching response
            for (const [key, response] of Object.entries(daveResponses)) {
                if (normalizedQuestion === key || 
                    normalizedQuestion.includes(key) || 
                    key.includes(normalizedQuestion.replace(/[?!.]/g, ''))) {
                    return response;
                }
            }

            // Fallback for valid but not exact matches
            if (normalizedQuestion.includes('hobbies')) {
                return daveResponses['what are your hobbies'];
            } else if (normalizedQuestion.includes('life story') || normalizedQuestion.includes('backstory')) {
                return daveResponses['share your life story'];
            } else if (normalizedQuestion.includes('owner') || normalizedQuestion.includes('danish')) {
                return daveResponses['what\'s your owner\'s profile'];
            } else if (normalizedQuestion.includes('about yourself') || normalizedQuestion.includes('who are you')) {
                return daveResponses['tell me about yourself'];
            }

            return daveResponses['tell me about yourself']; // Default fallback
        }

        // Add message to chat
        function addMessage(content, isUser = false) {
            const chatMessages = document.getElementById('chatMessages');
            const welcomeMessage = chatMessages.querySelector('.welcome-message');
            
            if (welcomeMessage) {
                welcomeMessage.remove();
            }

            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user' : 'bot'}`;
            
            const contentDiv = document.createElement('div');
            contentDiv.className = 'message-content';
            contentDiv.textContent = content;
            
            messageDiv.appendChild(contentDiv);
            chatMessages.appendChild(messageDiv);
            
            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Show typing indicator
        function showTypingIndicator() {
            const indicator = document.getElementById('typingIndicator');
            const chatMessages = document.getElementById('chatMessages');
            
            indicator.style.display = 'flex';
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Hide typing indicator
        function hideTypingIndicator() {
            const indicator = document.getElementById('typingIndicator');
            indicator.style.display = 'none';
        }

        // Send message
        function sendMessage() {
            if (isTyping) return;
            
            const messageInput = document.getElementById('messageInput');
            const message = messageInput.value.trim();
            
            if (!message) return;
            
            // Add user message
            addMessage(message, true);
            messageInput.value = '';
            
            // Show first message if it's the first interaction
            if (isFirstMessage) {
                isFirstMessage = false;
                setTimeout(() => {
                    showTypingIndicator();
                    isTyping = true;
                    
                    setTimeout(() => {
                        hideTypingIndicator();
                        addMessage("Hi! I'm Dave — Danish Ahmed's AI bot 👋");
                        isTyping = false;
                        
                        // Then process the actual question
                        setTimeout(() => {
                            processMessage(message);
                        }, 500);
                    }, 1500);
                }, 500);
            } else {
                processMessage(message);
            }
        }

        // Process message and get response
        function processMessage(message) {
            showTypingIndicator();
            isTyping = true;
            
            setTimeout(() => {
                hideTypingIndicator();
                const response = getDaveResponse(message);
                addMessage(response);
                isTyping = false;
            }, Math.random() * 1000 + 1000); // Random delay between 1-2 seconds
        }

        // Ask question from menu
        function askQuestion(question) {
            if (isTyping) return;
            
            const messageInput = document.getElementById('messageInput');
            messageInput.value = question;
            sendMessage();
        }

        // Event listeners
        document.getElementById('messageInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        // Auto-resize textarea
        document.getElementById('messageInput').addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 120) + 'px';
        });

        // Initialize with welcome message
        setTimeout(() => {
            const chatMessages = document.getElementById('chatMessages');
            const welcomeMsg = chatMessages.querySelector('.welcome-message');
            if (welcomeMsg) {
                welcomeMsg.innerHTML = 'Click on any question above to start chatting with Dave! 🚀';
            }
        }, 1000);
    </script>
</body>

</html>

